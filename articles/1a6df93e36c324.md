---
title: 'è¶…ä¸å¯§ãªPrettierãƒ»ESLintãƒ»Stylelintå…¥é–€'
emoji: 'ğŸ“š'
type: 'tech' # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['Prettier', 'ESLint', 'Stylelint', 'Sass']
published: false
---

## ã“ã®è¨˜äº‹ã¯

### Prettierãƒ»ESLintãƒ»Stylelintã¨ã¯

- Prettierã¨ã¯Formmatterï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ï¼‰ã¨å‘¼ã°ã‚Œã‚‹ã€ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•æ•´å½¢ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«

  - Prettierè‡ªä½“ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ã ã‘ã§ã€æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã¾ã§ã¯è¡Œã‚ãªã„

- ESLintã‚„Stylelintã¯Linterï¼ˆãƒªãƒ³ã‚¿ãƒ¼ï¼‰ã¨å‘¼ã°ã‚Œã‚‹æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«
  - è¨­å®šã—ãŸãƒ«ãƒ¼ãƒ«ã«é•åã—ãŸã‚³ãƒ¼ãƒ‰ã‚’æ¤œçŸ¥ã—ã¦è­¦å‘Šã—ã¦ãã‚Œã‚‹
  - å®Ÿéš›ã«ã¯ã€æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã ã‘ã§ãªãã€è‡ªå‹•æ•´å½¢ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚‚å«ã¾ã‚Œã¦ã„ãŸã‚Šã‚‚ã™ã‚‹

### ã¨ã‚Šã‚ãˆãšç’°å¢ƒæ§‹ç¯‰

:::details å®Œå…¨ç‰ˆã®package.json

```json
{
  (ä¸­ç•¥)
  "devDependencies": {
    "@babel/eslint-parser": "^7.16.3",
    "eslint": "^8.4.1",
    "eslint-config-prettier": "^8.3.0",
    "prettier": "^2.5.1",
    "sass": "^1.43.4",
    "sass-loader": "^10.2.0",
    "stylelint": "^14.1.0",
    "stylelint-config-prettier": "^9.0.3",
    "stylelint-config-recess-order": "^3.0.0",
    "stylelint-config-standard-scss": "^3.0.0"
  }
}
```

:::

#### Prettierã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
yarn add -D prettier
```

#### ESlintç­‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
yarn add -D eslint eslint-config-prettier @babel/eslint-parser
```

#### Stylelintç­‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(CSS ver)

```bash
yarn add -D stylelint stylelint-config-prettier stylelint-config-order stylelint-config-standard
```

#### Stylelintç­‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(Sass ver)

```bash
yarn add -D sass sass-loader@^10.2.0
```

```bash
yarn add -D stylelint stylelint-config-prettier stylelint-config-recess-order stylelint-config-standard-scss
```

### è¨­å®šãƒ»é€£æº

#### ESLintã¨Prettierã‚’é€£æºã•ã›ã‚‹æ–¹æ³•

- ESLintã‹ã‚‰Prettierã‚’å®Ÿè¡Œã•ã›ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
  - ãã®ãŸã‚ã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä¸‹è¨˜ã®ï¼’ã¤ã§ã™ã€‚
    1. [eslint-plugin-prettier](https://github.com/prettier/eslint-plugin-prettier)Â â†’ ESLintä¸Šã§Prettierã‚’å‹•ã‹ã™ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€‚
    2. [eslint-config-prettier](https://github.com/prettier/eslint-config-prettier)Â â†’ ESLintã¨Prettierã§ç«¶åˆã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®
       :::details è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(.eslintrc.json)ã¯ã“ã†æ›¸ã
    ```json
    {
      // ESLintã®æ¨å¥¨è¨­å®šã‚’ãƒ™ãƒ¼ã‚¹ã«ã™ã‚‹
      "extends": ["eslint:recommended", "plugin:prettier/recommended"]
    }
    ```
    > é€£æºã«å¿…è¦ãªè¨˜è¿°ã¯ã€extends: ['plugin:prettier/recommended']ã®éƒ¨åˆ†ã§ã™ã€‚
    > 'plugin:prettier/recommended'ã¯å¿…ãšæœ€å¾Œã«ãã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚
    >
    > :::

:::message alert
`prettier-eslint`ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†æ–¹æ³•ã®è¨˜äº‹ã‚’è¦‹ã¤ã‘ã¦ã‚‚`prettier-eslint`ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚
:::

ä¸€æ˜”å‰ã¯ã€Prettierã®å‡¦ç†å¾Œã«ãã®çµæœã‚’ESLintã«æ¸¡ã—ã¦å‡¦ç†ã™ã‚‹ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã—ãŸã€‚
ãã®éš›ã«ä½¿ã‚ã‚ŒãŸã®ãŒ[prettier-eslint](https://github.com/prettier/prettier-eslint)Â ã§ã—ãŸã€‚
ã—ã‹ã—ã€`prettier-eslint`ãŒéæ¨å¥¨ã«ãªã‚Šã€`prettier-eslint`Â ã®ä½œè€…ã‚‚[ã‚‚ã†ä½¿ã£ã¦ãªã„](https://twitter.com/kentcdodds/status/913760103118991361)ã¨ã®ã“ã¨ãªã®ã§ã€ç¾åœ¨ã¯ä¸Šè¨˜ã®æ–¹æ³•ä¸€æŠã¨ãªã‚Šã¾ã™ã€‚

#### Stylelintã¨Prettierã‚’é€£æºã•ã›ã‚‹æ–¹æ³•

**Stylelintã®Prettierã¨ã®é€£æºæ–¹æ³•ã¯ï¼’ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Šã¾ã™ã€‚**

1. **[stylelint-prettier](https://github.com/prettier/stylelint-prettier)ã‚’ä½¿ã£ã¦Stylelintã‹ã‚‰Prettierã‚’å‘¼ã³å‡ºã™**
   1. **`stylelint-config-prettier`ï¼šStylelintã¨Prettierã§ç«¶åˆã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ãŸã‚ã®æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã€‚**
2. **[prettier-stylelint](https://www.npmjs.com/package/prettier-stylelint)ã‚’ä½¿ã£ã¦Prettierã‹ã‚‰Stylelintã‚’å‘¼ã³å‡ºã™**

**ã¨ã„ã†ï¼’ã¤ã§ã™ã€‚**

```jsx
module.exports = {
  extends: ['stylelint-prettier/recommended'],

  // .prettierrc.jsã®å†…å®¹ã‚’ä¸Šæ›¸ãã—ãŸã„æ™‚ã¯ rules ã‹ã‚‰å¯èƒ½
  rules: {
    'prettier/prettier': [true, { singleQuote: false, useTabs: true }]
  }
}
```

- **Stylelintã‚’SCSSã«å¯¾å¿œã•ã›ã‚‹**
  ```jsx
  module.exports = {
    plugins: ['stylelint-scss'], // stylelint-scss ã‚’ä½¿ã†
    extends: ['stylelint-prettier/recommended'],
    rules: {
      'at-rule-no-unknown': null, //scssã§ä½¿ãˆã‚‹ @include ãªã©ã«ã‚¨ãƒ©ãƒ¼ãŒã§ãªã„ã‚ˆã†ã«ã™ã‚‹
      'scss/at-rule-no-unknown': true //scssã§ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ @ãƒ«ãƒ¼ãƒ« ã«ã¯ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã™
    }
  }
  ```
- **Stylelintè¨­å®šé›†**
  - ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªè¨­å®šï¼š**[stylelint-config-standard](https://github.com/stylelint/stylelint-config-standard)**
  - Googleã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸè¨­å®šï¼š**eslint-config-google**
  - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä¸¦ã³é †ã‚’æ•´ãˆã‚‹ï¼š**stylelint-order**
  ```jsx
  module.exports = {
    plugins: ['stylelint-scss', 'stylelint-order'], // stylelint-order ã‚’ä½¿ã†
    extends: [
      'stylelint-config-standard', //ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ãƒ«ãƒ¼ãƒ«
      'stylelint-prettier/recommended'
    ],
    rules: {
      'order/properties-alphabetical-order': true, //ABCé †ã«ä¸¦ã¹ã‚‹
      'at-rule-no-unknown': null, //scssé–¢ä¿‚ã®ã‚„ã¤
      'scss/at-rule-no-unknown': true //scssé–¢ä¿‚ã®ã‚„ã¤
    }
  }
  ```
- **SCSSãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹**

  ```bash
  yarn add -D sass sass-loader fibers
  ```

  ```jsx
  import Sass from 'sass'
  import Fiber from 'fibers'

  export default {
    ...
    build: {
      loaders: {
        scss: {
          implementation: Sass,
          sassOptions: {
            fiber: Fiber
          }
        }
      }
    }
  }
  ```

- å‰æ
  - nuxt@2.15.8
  - nuxt@2.15.8ã®webpackã¯4.46.0
  - eslint@8.8.0
  - prettier@2.5.1
  - stylelint@14.3.0
  - sass@1.49.7
- eslint
  - babel-eslintéæ¨å¥¨
    - ä»£ã‚ã‚Šã«@babel/eslint-parser(eslint@v8å¯¾å¿œ)
  - eslint-loaderéæ¨å¥¨
    - ä»£ã‚ã‚Šã«eslint-webpack-pluginãŒæ¨å¥¨
    - @nuxt/eslint-module@3.0.2ã«eslint-webpack-plugin@2.4.1ã¯å†…åŒ…ã•ã‚Œã¦ã„ã‚‹(webpack@v5ãªã‚‰eslint-webpack-plugin@v3)
    - ä»¥å‰ã¯nuxt.config.jsã®buildã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ã„ãŸãŒ@nuxt/eslint-moduleã«ã‚ˆã‚Šä¸è¦ã¨ãªã£ãŸã€‚
      ```jsx
      build: {
          extend(config, ctx) {
            if (ctx.isDev && ctx.isClient) {
              config.module.rules.push({
                enforce: 'pre',
                test: /\.(js|vue)$/,
                loader: 'eslint-loader',
                exclude: /(node_modules)/
              })
            }
          },
        },
      ```
  - @nuxtjs/eslint-config@8.0.0ã®dependencies
    ```json
    eslint-config-standard "^16.0.3"
    eslint-plugin-import "^2.25.3"
    eslint-plugin-jest "^25.3.0"
    eslint-plugin-node "^11.1.0"
    eslint-plugin-promise "^5.1.1"
    eslint-plugin-unicorn "^39.0.0"
    eslint-plugin-vue "^8.1.1"
    ```
    - .eslintrc.js
      ```jsx
      module.exports = {
        root: true,
        env: {
          browser: true,
          es6: true,
          node: true
        },
        extends: ['@nuxtjs', 'plugin:nuxt/recommended', 'prettier'],
        parserOptions: {
          parser: '@babel/eslint-parser',
          requireConfigFile: false
        },
        // required to lint *.vue files
        plugins: [],
        // add your custom rules here
        rules: {
          semi: [2, 'never'],
          'no-unused-vars': 'off',
          'no-console': 'off',
          'no-sparse-arrays': 'off',
          'array-callback-return': 0,
          'import/no-named-as-default': 0,
          // vue settings
          'vue/script-setup-uses-vars': 0,
          'vue/attribute-hyphenation': 0,
          'vue/no-v-html': 0,
          'vue/multi-word-component-names': 0,
          // nuxt settings
          'nuxt/no-globals-in-created': 0,
          'nuxt/no-env-in-hooks': 0
        }
      }
      ```
    - typescript
      - `@nuxtjs/eslint-config`ã‚ˆã‚Š`@nuxtjs`ã‚’`@nuxtjs/eslint-config-typescript`ã«ç½®ãæ›ãˆ
      - `eslint-plugin-nuxt`ã¯`plugin:nuxt/recommended`ã‚’è¨­å®šã€‚
      - `@babel/eslint-parser`ã¯`@typescript-eslint/parser`ã«ç½®ãæ›ãˆ
      ```jsx
      module.exports = {
        root: true,
        env: {
          browser: true,
          es6: true,
          node: true
        },
        extends: [
          '@nuxtjs/eslint-config-typescript',
          'plugin:nuxt/recommended',
          'prettier'
        ],
        parserOptions: {
          ecmaVersion: 13,
          parser: '@typescript-eslint/parser',
          requireConfigFile: false
        },
        // required to lint *.vue files
        plugins: [],
        // add your custom rules here
        rules: {
          semi: [2, 'never'],
          'no-unused-vars': 'off',
          'no-console': 'off',
          'no-sparse-arrays': 'off',
          'array-callback-return': 0,
          'import/no-named-as-default': 0,
          // vue settings
          'vue/script-setup-uses-vars': 0,
          'vue/attribute-hyphenation': 0,
          'vue/no-v-html': 0,
          'vue/multi-word-component-names': 0,
          // nuxt settings
          'nuxt/no-globals-in-created': 0,
          'nuxt/no-env-in-hooks': 0
        }
      }
      ```
- stylelint
  - stylelintã¨@nuxtjs/stylelint-moduleãŒæœ€ä½é™ã®äºŒã¤
  - scssã‚’ä½¿ã†ã®ã§stylelint-scss
  - prettierã¨ã®ç«¶åˆãƒ«ãƒ¼ãƒ«ã‚’offã«ã™ã‚‹ãŸã‚stylelint-config-prettier(æœ«å°¾)
  - stylelint@14ç³»ã‚’å…¥ã‚Œã‚‹ã«éš›ã—ã¦ã€å†…éƒ¨ã§postcss@7ç³»ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã¨ã“ã‚ãŒã‚ã‚Šã€postcss-scssãŒ8ç³»ã‚’å¿…è¦ã¨ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦
- prettier
  - eslint-plugin-prettieréæ¨å¥¨
    - eslint-config-prettierã§ç«¶åˆãƒ«ãƒ¼ãƒ«ã‚’offã«ã—ãŸå¾Œã€`prettier & eslint`ã®ã‚ˆã†ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹
    - offã®ä»•æ–¹ã¯
      ```jsx
      {
        extends: [
          ...
          'prettier' // æœ«å°¾ã«è¨˜è¿°ã™ã‚‹ v8.0.0ã‹ã‚‰ã¯ 'prettier'ã®ã¿ã§OK
        ],
        ...
      }
      ```
- settings.json
  ```jsx
  {
    "typescript.format.insertSpaceAfterSemicolonInForStatements": false,
    "javascript.format.insertSpaceAfterSemicolonInForStatements": false,
    "editor.tabSize": 2,
    "editor.hover.enabled": false,
    "files.exclude": {
      "amplify/.config": true,
      "amplify/**/*-parameters.json": true,
      "amplify/**/amplify.state": true,
      "amplify/**/transform.conf.json": true,
      "amplify/#current-cloud-backend": true,
      "amplify/backend/amplify-meta.json": true,
      "amplify/backend/awscloudformation": true
    },
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.stylelint": true,
      "source.fixAll.eslint": true
    },
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "vetur.format.enable": false,
    "editor.guides.bracketPairs": true,
    "git.ignoreLimitWarning": true,
    "stylelint.validate": ["css", "scss"],
    "css.validate": false,
    "scss.validate": false
  }
  ```
